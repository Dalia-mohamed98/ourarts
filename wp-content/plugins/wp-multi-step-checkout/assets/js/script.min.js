jQuery(window).ready(function(b){var a={$tabs:b(".wpmc-tab-item"),$sections:b(".wpmc-step-item"),$buttons:b(".wpmc-nav-buttons .button"),$checkout_form:b("form.woocommerce-checkout"),$coupon_form:b("#checkout_coupon"),$before_form:b("#woocommerce_before_checkout_form"),init:function(){var c=this;b(".woocommerce-checkout").on("wpmc_switch_tab",function(f,e){this.switch_tab(e)});b(".wpmc-step-item:first").addClass("current");b("#wpmc-next, #wpmc-skip-login").on("click",function(){c.switch_tab(c.current_index()+1)});b("#wpmc-prev").on("click",function(){c.switch_tab(c.current_index()-1)});b(document).on("checkout_error",function(){if(!b("#createaccount").is(":checked")){b("#account_password_field, #account_username_field").removeClass("woocommerce-invalid-required-field")}if(!b("#ship-to-different-address-checkbox").is(":checked")){b(".woocommerce-shipping-fields__field-wrapper p").removeClass("woocommerce-invalid-required-field")}var e=b(".woocommerce-invalid-required-field").closest(".wpmc-step-item").attr("class");b(".wpmc-step-item").each(function(f){if(b(this).attr("class")===e){c.switch_tab(f)}})});if(b(".the_champ_sharing_container").length>0){b(".the_champ_sharing_container").insertAfter(b(this).parent().find("#checkout_coupon"))}b(".woocommerce-checkout").keydown(function(f){if(f.which===13){f.preventDefault();return false}});b("#wpmc-back-to-cart").click(function(){window.location.href=b(this).data("href")});if(WPMC.keyboard_nav==="1"){b(document).keydown(function(g){var f=g.charCode?g.charCode:g.keyCode?g.keyCode:0;if(f===39){c.switch_tab(c.current_index()+1)}if(f===37){c.switch_tab(c.current_index()-1)}})}if(window.location.hash){d(window.location.hash)}b(window).on("hashchange",function(){d(window.location.hash)});function d(f){if(/step-[0-9]/.test(f)){var e=f.match(/step-([0-9])/)[1];c.switch_tab(e)}}},current_index:function(){return this.$sections.index(this.$sections.filter(".current"))},scroll_top:function(){if(b(".wpmc-tabs-wrapper").length===0){return}var d=b(".wpmc-tabs-wrapper").offset().top-b(window).scrollTop();var c=70;if(typeof WPMC.scroll_top!=="undefined"){c=WPMC.scroll_top}if(d<-40){b("html, body").animate({scrollTop:b(".wpmc-tabs-wrapper").offset().top-c},800)}},switch_tab:function(d){var c=this;b(".woocommerce-checkout").trigger("wpmc_before_switching_tab");if(d<0||d>this.$sections.length-1){return false}this.scroll_top();b("html, body").promise().done(function(){c.$tabs.removeClass("previous").filter(".current").addClass("previous");c.$sections.removeClass("previous").filter(".current").addClass("previous");b(".woocommerce-NoticeGroup-checkout:not(wpmc-error)").show();c.$tabs.removeClass("current",{duration:500});c.$tabs.eq(d).addClass("current",{duration:500});c.$sections.removeClass("current",{duration:500});c.$sections.eq(d).addClass("current",{duration:500});c.$buttons.removeClass("current");c.$checkout_form.addClass("processing");c.$coupon_form.hide();c.$before_form.hide();if(d<c.$sections.length-1){b("#wpmc-next").addClass("current")}if(d===0&&b(".wpmc-step-login").length>0){b("#wpmc-skip-login").addClass("current");b("#wpmc-next").removeClass("current");b(".woocommerce-NoticeGroup-checkout:not(wpmc-error)").hide()}if(d===c.$sections.length-1){b("#wpmc-prev").addClass("current");b("#wpmc-submit").addClass("current");c.$checkout_form.removeClass("processing").unblock()}if(d!=0){b("#wpmc-prev").addClass("current")}if(b(".wpmc-step-review.current").length>0){c.$coupon_form.show()}if(b(".wpmc-"+c.$before_form.data("step")+".current").length>0){c.$before_form.show()}b(".woocommerce-checkout").trigger("wpmc_after_switching_tab")})}};a.init()});